<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home - Accela</title>
  <link rel="stylesheet" href="/chapters.css">
  <link rel="icon" href="https://files.catbox.moe/bpi1je.gif" type="image/gif">
  <style>
    .user-status {
      position: absolute;
      top: 20px;
      right: 40px;
      background: rgba(255, 255, 255, 0.05);
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 14px;
      color: rgba(255, 255, 255, 0.7);
    }

    .user-status.premium {
      background: rgba(255, 215, 0, 0.1);
      border: 1px solid rgba(255, 215, 0, 0.3);
      color: #ffd700;
    }

    .user-status.admin {
      background: rgba(138, 43, 226, 0.15);
      border: 1px solid rgba(138, 43, 226, 0.4);
      color: #da70d6;
    }

    .user-status.free {
      background: rgba(100, 100, 100, 0.1);
      border: 1px solid rgba(100, 100, 100, 0.3);
      color: rgba(255, 255, 255, 0.7);
    }

    .days-left {
      font-size: 12px;
      opacity: 0.85;
      margin-top: 4px;
    }

    .days-left.warning {
      color: #ff6b6b;
    }

    .days-left.good {
      color: #4ade80;
    }

    .upgrade-link {
      display: inline-block;
      margin-top: 6px;
      font-size: 12px;
      color: #00ffcc;
      text-decoration: none;
      transition: opacity 0.2s;
    }

    .upgrade-link:hover {
      opacity: 0.8;
      text-decoration: underline;
    }

    .home-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 24px;
      max-width: 900px;
      margin: 40px auto;
      padding: 0 20px;
    }

    .home-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 40px 32px;
      text-align: center;
      transition: all 0.3s;
      cursor: pointer;
      text-decoration: none;
      color: inherit;
      display: block;
    }

    .home-card:hover {
      background: rgba(255, 255, 255, 0.08);
      transform: translateY(-4px);
      box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
      border-color: rgba(255, 255, 255, 0.2);
    }

    .home-card-icon {
      font-size: 64px;
      margin-bottom: 20px;
      display: block;
    }

    .home-card h2 {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 12px;
      color: #ffffff;
    }

    .home-card p {
      font-size: 16px;
      color: rgba(255, 255, 255, 0.7);
      line-height: 1.6;
    }

    .contact-section {
      background: rgba(79, 70, 229, 0.1);
      border: 1px solid rgba(79, 70, 229, 0.3);
      border-radius: 12px;
      padding: 24px;
      margin-top: 24px;
      text-align: center;
    }

    .contact-section h3 {
      font-size: 20px;
      margin-bottom: 16px;
      color: #ffffff;
    }

    .contact-links {
      display: flex;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 16px;
    }

    .contact-btn {
      background: rgba(255, 255, 255, 0.1);
      color: #ffffff;
      padding: 10px 24px;
      border-radius: 8px;
      text-decoration: none;
      transition: all 0.2s;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      font-size: 15px;
    }

    .contact-btn:hover {
      background: rgba(255, 255, 255, 0.15);
      transform: translateY(-2px);
    }

    .highlight {
      color: #00ffcc;
      font-weight: 600;
    }

    .warning-box {
      background: rgba(255, 59, 48, 0.1);
      border: 1px solid rgba(255, 59, 48, 0.3);
      border-radius: 12px;
      padding: 16px;
      margin-top: 20px;
      color: #ff6b6b;
      font-size: 15px;
    }

    /* Premium banner for expiring soon */
    .premium-banner {
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 140, 0, 0.15));
      border: 1px solid rgba(255, 215, 0, 0.3);
      border-radius: 12px;
      padding: 16px 24px;
      margin: 20px auto;
      max-width: 900px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 12px;
    }

    .premium-banner.expiring-soon {
      background: linear-gradient(135deg, rgba(255, 100, 100, 0.15), rgba(255, 50, 50, 0.15));
      border-color: rgba(255, 100, 100, 0.4);
    }

    .premium-banner-text {
      color: #fff;
      font-size: 15px;
    }

    .premium-banner-text strong {
      color: #ffd700;
    }

    .premium-banner.expiring-soon .premium-banner-text strong {
      color: #ff6b6b;
    }

    .renew-btn {
      background: linear-gradient(135deg, #ffd700, #ff8c00);
      color: #000;
      padding: 10px 20px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      font-size: 14px;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .renew-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 215, 0, 0.4);
    }

    @media (max-width: 768px) {
      .user-status {
        position: static;
        margin: 16px auto;
        text-align: center;
        max-width: 200px;
      }

      .home-grid {
        grid-template-columns: 1fr;
        gap: 16px;
      }

      .home-card {
        padding: 32px 24px;
      }

      .home-card-icon {
        font-size: 48px;
      }

      .contact-links {
        flex-direction: column;
        align-items: stretch;
      }

      .contact-btn {
        width: 100%;
        justify-content: center;
      }

      .premium-banner {
        flex-direction: column;
        text-align: center;
      }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="header" style="position: relative;">
    <div class="logo-title">
      <img src="https://files.catbox.moe/bpi1je.gif" alt="Animated Accela Logo" class="logo" />
      <h1 id="accela">Accela</h1>
    </div>
    
    <% if (isAuthenticated && user) { %>
      <div class="user-status <%= isAdmin ? 'admin' : (hasPremium ? 'premium' : 'free') %>">
        <% if (isAdmin) { %>
          üëë Admin
        <% } else if (hasPremium) { %>
          ‚≠ê Premium User
          <% if (daysLeft !== Infinity && daysLeft > 0) { %>
            <div class="days-left <%= daysLeft <= 7 ? 'warning' : 'good' %>">
              <% if (daysLeft <= 7) { %>
                ‚ö†Ô∏è <%= daysLeft %> day<%= daysLeft !== 1 ? 's' : '' %> left
              <% } else { %>
                <%= daysLeft %> days remaining
              <% } %>
            </div>
          <% } else if (daysLeft === Infinity) { %>
            <div class="days-left good">Lifetime Access</div>
          <% } %>
        <% } else { %>
          üë§ <%= user.username %>
          <a href="/upgrade?username=<%= user.username %>" class="upgrade-link">‚¨ÜÔ∏è Upgrade to Premium</a>
        <% } %>
      </div>
    <% } %>
  </header>

  <!-- Premium Expiry Warning Banner (for users with 7 days or less) -->
  <% if (isAuthenticated && hasPremium && !isAdmin && daysLeft <= 7 && daysLeft > 0 && daysLeft !== Infinity) { %>
    <div class="premium-banner expiring-soon" style="margin-left: 20px; margin-right: 20px;">
      <div class="premium-banner-text">
        ‚ö†Ô∏è Your premium subscription expires in <strong><%= daysLeft %> day<%= daysLeft !== 1 ? 's' : '' %></strong>. Renew now to keep access!
      </div>
      <a href="/upgrade?username=<%= user.username %>" class="renew-btn">Renew Now</a>
    </div>
  <% } %>

  <!-- Home Grid -->
  <div class="home-grid">
    <!-- Notes Card -->
    <a href="/notes" class="home-card">
      <span class="home-card-icon">üìù</span>
      <h2>Notes</h2>
      <p>Comprehensive study notes organized by chapters and topics</p>
    </a>

    <!-- Flashcards Card -->
    <a href="/chapters" class="home-card">
      <span class="home-card-icon">üóÇÔ∏è</span>
      <h2>Flashcards</h2>
      <p>Interactive flashcards for active recall and spaced repetition</p>
    </a>
  </div>

  <!-- About the Site -->
  <section id="lain" class="section lain-section">
    <h2 id="aboutsite">Why ACCELA Works (When Everything Else Fails)</h2>
    <div class="lain-container">
      <img src="https://files.catbox.moe/bpi1je.gif" alt="ACCELA Logo" class="lain-img" />
      <p class="text">
        You've tried other study tools. You've highlighted textbooks until they looked like rainbow disasters. You've made notes you never looked at again. And when exam day came? Panic. Blank mind. "I swear I studied this..."
        <br><br>
        <strong>Here's the truth nobody tells you:</strong> Reading doesn't equal remembering. Your brain doesn't store information just because your eyes scanned it. Memory works through <em>retrieval</em>, not repetition.
        <br><br>
        ACCELA is built on one principle: <span class="highlight">You remember what you actively recall, not what you passively review.</span>
        <br><br>
        That's why we use flashcards. That's why we force your brain to work. Because the struggle to remember IS what creates the memory. No shortcuts. No illusions. Just results.
        <br><br>
        <strong>üöÄ Right now: Core content is completely free.</strong><br>
        <strong>üîì Premium unlocks advanced chapters for serious learners.</strong>
        <br><br>
        You're not "trying another study app." You're upgrading how your brain actually learns. Most students don't discover this until it's too late. You're here early.
        <br><br>
        <strong>Got questions? Ideas? Gratitude?</strong> Drop it in the Cbox below. Every message reaches me directly. I read everything. I respond to what matters.
        <br><br>
        Welcome to a system that actually works. Start with the free content. See the difference yourself.
      </p>

      <!-- Contact Section -->
      <div class="contact-section">
        <h3>üì¨ Need Direct Support?</h3>
        <p style="font-size: 14px; color: rgba(255, 255, 255, 0.7); margin-bottom: 12px;">
          Premium support, custom content requests, or technical issues
        </p>
        <div class="contact-links">
          <a href="mailto:monstern395@gmail.com" class="contact-btn">
            üìß Email Support
          </a>
          <a href="https://t.me/accelasupport" class="contact-btn" target="_blank" rel="noopener">
            üí¨ Telegram
          </a>
        </div>
        <p style="font-size: 13px; color: rgba(255, 255, 255, 0.5); margin-top: 12px;">
          Average response time: 12 hours
        </p>
      </div>
    </div>
  </section>

  <!-- Cbox -->
  <section id="cbox" class="section">
    <h2>Cbox</h2>
    <iframe src="https://www5.cbox.ws/box/?boxid=957561&boxtag=IZAjsP"
      allow="autoplay" frameborder="0" marginheight="0" marginwidth="0" scrolling="auto"></iframe>	
  </section>

  <!-- Updates -->
  <section id="updates" class="section">
    <h2 id="siteupdate">Recent Updates</h2>
    <ul class="updates">
      <li>üìù <strong>Notes Section Launched</strong> ‚Äî Create, organize, and access your study notes alongside flashcards</li>
      <li>üîí <strong>Enhanced Security</strong> ‚Äî Upgraded encryption and authentication to protect your account and data</li>
      <li>‚ö° <strong>Performance Boost</strong> ‚Äî Faster loading times and smoother transitions across all devices</li>
      <li>‚ú® <strong>Freemium Model Live</strong> ‚Äî Core content free forever. Premium unlocks advanced chapters</li>
      <li>üé® <strong>UI Refinements</strong> ‚Äî Cleaner navigation, better mobile experience, improved readability</li>
    </ul>

    <div class="warning-box">
      <strong>‚ö†Ô∏è Important Notice:</strong> Sharing premium accounts, attempting to bypass payments, or violating terms of service will result in immediate subscription cancellation without refund. We monitor suspicious activity. Play fair, keep access.
    </div>
  </section>

  <!-- Buttons Container -->
  <div class="buttons-container">
    <div class="button-row">
      <% if (isAuthenticated) { %>
        <form action="/logout" method="GET">
          <button type="submit" class="logout-btn">Logout</button>
        </form>
        <% if (user && user.role === 'admin') { %>
          <a href="/admin" class="admin-btn">Admin Panel</a>
        <% } %>
        <a href="/profile" class="admin-btn" style="background: rgba(79, 70, 229, 0.3); border-color: rgba(79, 70, 229, 0.5);">Profile</a>
      <% } else { %>
        <a href="/login" class="admin-btn">Login / Sign Up</a>
      <% } %>
    </div>
  </div>

</body>
</html>
